{"ast":null,"code":"class EncounterMember {\n  constructor(memberIndex, name, initiative) {\n    this.addStatus = (status, listId, timeout) => {\n      if ([0, 1, 2].includes(listId)) {\n        this.statuses[listId].push({\n          \"status\": status,\n          \"timeout\": timeout\n        });\n      } else {\n        console.log(\"Invalid ID: \" + listId);\n      }\n    };\n\n    this.onTurnEnd = () => {\n      let toRemove = [[], [], []]; // Loop through our status lists\n\n      for (let i = 0; i < this.statuses.length; i++) {\n        // Loop through each status in the list\n        for (let j = 0; j < this.statuses[i].length; j++) {\n          // If the timeout is greater than zero, decrement it towards zero.\n          if (this.statuses[i][j].timeout > 0) {\n            this.statuses[i][j].timeout--;\n          } // Once that's done, if timeout now is EXACTLY zero, mark it for removal. \n\n\n          if (this.statuses[i][j].timeout === 0) {\n            toRemove[i].push(j);\n          }\n        }\n      }\n\n      let newStatuses = [[], [], []];\n\n      for (let i = 0; i < this.statuses.length; i++) {\n        for (let j = 0; j < this.statuses.length; j++) {\n          // If this status' index isn't in the toRemove list, add it to the new statuses list\n          if (!toRemove[i].includes(j)) {\n            newStatuses[i].push(this.statuses[i][j]);\n          }\n        }\n      }\n    };\n\n    this.removeStatus = (statusId, listId) => {\n      if ([0, 1, 2].includes(listId)) {\n        let removeIndex = -1;\n\n        for (let i = 0; i < this.statuses[listId].length; i++) {\n          if (this.statuses[listId][i].status.id == statusId) {\n            removeIndex = i;\n            break;\n          }\n        }\n\n        this.statuses[listId].splice(removeIndex, 1);\n      } else {\n        console.log(\"Invalid ID: \" + listId);\n      }\n    };\n\n    this.index = memberIndex;\n    this.name = name || \"\";\n    this.initiative = initiative || null;\n    this.statuses = [[], [], []];\n  }\n\n}\n\nexport default EncounterMember;","map":{"version":3,"names":["EncounterMember","constructor","memberIndex","name","initiative","addStatus","status","listId","timeout","includes","statuses","push","console","log","onTurnEnd","toRemove","i","length","j","newStatuses","removeStatus","statusId","removeIndex","id","splice","index"],"sources":["/home/kristin/Documents/dev/initiative-tracker/src/EnounterMember.js"],"sourcesContent":["class EncounterMember{\n    constructor(memberIndex, name, initiative){\n        this.index = memberIndex;\n        this.name = name || \"\";\n        this.initiative = initiative || null;\n        this.statuses = [[], [], []];\n    };\n\n    addStatus = (status, listId, timeout) => {\n        if ([0,1,2].includes(listId)){\n            this.statuses[listId].push({\n                \"status\" : status,\n                \"timeout\" : timeout\n            });\n        } else {\n            console.log(\"Invalid ID: \" + listId)\n        }\n        \n    }\n\n    onTurnEnd = () => {\n\n        let toRemove = [[],[],[]];\n\n        // Loop through our status lists\n        for (let i = 0; i < this.statuses.length; i++){\n            // Loop through each status in the list\n            for (let j = 0; j < this.statuses[i].length; j++){\n                // If the timeout is greater than zero, decrement it towards zero.\n                if (this.statuses[i][j].timeout > 0){\n                    this.statuses[i][j].timeout--;\n                }\n\n                // Once that's done, if timeout now is EXACTLY zero, mark it for removal. \n                if (this.statuses[i][j].timeout === 0){\n                    toRemove[i].push(j);\n                }\n            }\n        }\n\n        let newStatuses = [[],[],[]];\n        for (let i = 0; i < this.statuses.length; i++){\n            for (let j = 0; j < this.statuses.length; j++){\n                // If this status' index isn't in the toRemove list, add it to the new statuses list\n                if (!toRemove[i].includes(j)){\n                    newStatuses[i].push(this.statuses[i][j]);\n                }\n            }\n        }\n\n        \n    }\n\n    removeStatus = (statusId, listId) => {\n        if ([0,1,2].includes(listId)){\n            let removeIndex = -1;\n            for (let i = 0; i < this.statuses[listId].length; i++){\n                if(this.statuses[listId][i].status.id == statusId){removeIndex=i; break;}\n            }\n            this.statuses[listId].splice(removeIndex, 1);\n        } else {\n            console.log(\"Invalid ID: \" + listId)\n        }\n    }\n}\n\n\nexport default EncounterMember;"],"mappings":"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"},"metadata":{},"sourceType":"module"}