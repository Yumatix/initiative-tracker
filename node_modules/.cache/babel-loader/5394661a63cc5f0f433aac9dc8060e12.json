{"ast":null,"code":"var _jsxFileName = \"/home/kristin/Documents/dev/5eInitiative/initiative-tracker/src/TimelineView.js\";\nimport React from \"react\";\nimport TimelineCard from \"./TimelineCard\";\nimport styles from \"./CSS/TimelineView.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass TimelineView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInitiativeChange = (newInitiative, memberIndex) => {\n      this.props.onInitiativeChange(newInitiative, memberIndex);\n    };\n\n    this.renderCurrentRound = list => {\n      // First, check if the current round is empty. If it is, generate a new round from the working member list\n      if (this.state.currentRound.length <= 0) {\n        let newRound = [];\n        list.forEach(i => {\n          if (i.initiative != null) {\n            newRound.push(i);\n          }\n        }); // Note: multiply initiative by 1 to force JS to convert them to numbers during the comparison\n\n        newRound.sort((a, b) => a.initiative * 1 < b.initiative * 1 ? 1 : -1);\n        this.setState({\n          currentRound: newRound\n        });\n      } // Then, render everyone in the current round\n\n\n      let toRender = [];\n      toRender.push(this.state.currentRound.map(i => {\n        return /*#__PURE__*/_jsxDEV(TimelineCard, {\n          member: i,\n          onInitiativeChange: this.handleInitiativeChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 20\n        }, this);\n      }));\n      return toRender;\n    };\n\n    this.renderInitiativeOrder = list => {\n      // Shift member list into initiative list, discarding anyone without an initiative\n      this.setState({\n        initiativeOrder: []\n      });\n      list.forEach(i => {\n        if (i.initiative != null) {\n          initiativeOrder.push(i);\n        }\n      }); // Sort initiative order\n      // Note: multiply initiative by 1 to force JS to convert them to numbers during the comparison\n\n      initiativeOrder.sort((a, b) => a.initiative * 1 < b.initiative * 1 ? 1 : -1); // Render list into TimelineCard React Components\n\n      let toRender = [];\n\n      for (let i = 0; i < this.state.iterations; i++) {\n        toRender.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.Separator\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 27\n        }, this));\n        toRender.push(initiativeOrder.map(i => {\n          return /*#__PURE__*/_jsxDEV(TimelineCard, {\n            member: i,\n            onInitiativeChange: this.handleInitiativeChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 24\n          }, this);\n        }));\n      }\n\n      return toRender;\n    };\n\n    this.state = {\n      iterations: 2,\n      currentRound: [],\n      initiativeOrder: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.TimelineViewContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.TimelineToolbar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.SmallBar,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.TimelineSummary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.IterationsContainer,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: styles.IterationsField,\n            type: \"number\",\n            value: this.state.iterations,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.TimelineMain,\n        children: [this.renderCurrentRound(this.props.memberList), this.renderInitiativeOrder(this.props.memberList)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.TimelineCurrent\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 13\n    }, this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      iterations: event.target.value\n    });\n  }\n\n}\n\nexport default TimelineView;","map":{"version":3,"names":["React","TimelineCard","styles","TimelineView","Component","constructor","props","handleInitiativeChange","newInitiative","memberIndex","onInitiativeChange","renderCurrentRound","list","state","currentRound","length","newRound","forEach","i","initiative","push","sort","a","b","setState","toRender","map","renderInitiativeOrder","initiativeOrder","iterations","Separator","handleChange","bind","render","TimelineViewContainer","TimelineToolbar","SmallBar","TimelineSummary","IterationsContainer","IterationsField","TimelineMain","memberList","TimelineCurrent","event","target","value"],"sources":["/home/kristin/Documents/dev/5eInitiative/initiative-tracker/src/TimelineView.js"],"sourcesContent":["import React from \"react\"\nimport TimelineCard from \"./TimelineCard\"\nimport styles from \"./CSS/TimelineView.module.css\"\n\nclass TimelineView extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            iterations: 2,\n            currentRound: [],\n            initiativeOrder: []\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n\n\n    render(){\n        return(\n            <div className={styles.TimelineViewContainer}>\n                <div className={styles.TimelineToolbar}>\n\n                </div>\n\n                <div className={styles.SmallBar}> \n                    <div className={styles.TimelineSummary}>\n\n                    </div>\n                    <div className={styles.IterationsContainer}>\n                        <input className={styles.IterationsField} type=\"number\" value={this.state.iterations} onChange={this.handleChange}/>\n                    </div>\n                </div>\n\n                <div className={styles.TimelineMain}>\n                    {this.renderCurrentRound(this.props.memberList)}\n                    {this.renderInitiativeOrder(this.props.memberList)}\n                </div>\n                \n                <div className={styles.TimelineCurrent}>\n                    \n                </div>\n\n            </div>\n            \n        )\n    }\n\n\n    handleChange(event){\n        this.setState({iterations: event.target.value});\n    }\n\n\n\n    handleInitiativeChange = (newInitiative, memberIndex) => {\n        this.props.onInitiativeChange(newInitiative, memberIndex);\n    }\n\n\n\n    renderCurrentRound = list => {\n        // First, check if the current round is empty. If it is, generate a new round from the working member list\n        if (this.state.currentRound.length <= 0){\n            let newRound = [];\n            list.forEach(i => {\n                if (i.initiative != null) {newRound.push(i)}\n            })\n\n            // Note: multiply initiative by 1 to force JS to convert them to numbers during the comparison\n            newRound.sort((a, b) => (a.initiative*1 < b.initiative*1) ? 1 : -1);\n\n            this.setState({currentRound: newRound});\n        }\n\n        // Then, render everyone in the current round\n        let toRender = []\n\n        toRender.push(this.state.currentRound.map(i => {\n            return <TimelineCard member={i} onInitiativeChange={this.handleInitiativeChange}/>\n        }))\n\n        return toRender;\n\n    }\n\n\n\n    renderInitiativeOrder = list => {\n        // Shift member list into initiative list, discarding anyone without an initiative\n        this.setState({initiativeOrder: []});\n        list.forEach(i => {\n            if (i.initiative != null) {initiativeOrder.push(i);}\n        })\n\n        // Sort initiative order\n        // Note: multiply initiative by 1 to force JS to convert them to numbers during the comparison\n        initiativeOrder.sort((a, b) => (a.initiative*1 < b.initiative*1) ? 1 : -1); \n\n        // Render list into TimelineCard React Components\n        let toRender = []\n\n        for (let i = 0; i < this.state.iterations; i++) {\n            toRender.push(<div className={styles.Separator}></div>)\n            toRender.push(initiativeOrder.map(i => {\n                return <TimelineCard member={i} onInitiativeChange={this.handleInitiativeChange}/>\n            }))\n        }\n\n        return toRender;\n    }\n}\n\nexport default TimelineView;"],"mappings":"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"},"metadata":{},"sourceType":"module"}